webpackJsonp([29968811596507],{398:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=n(1),s=a(d),o=n(56),u=a(o),i=n(169),f=a(i),h=n(5),p=n(52),m=a(p),v=n(54),_=a(v),b=function(e){function t(){c(this,t);var n=l(this,e.call(this));return n.getDanceCourseName=function(e,t){var a=n.state,c=a.dance_teachers,l=a.dances;if(!c||!l)return"betöltés...";var r=c.find(function(t){return t.id===e}),d=l.find(function(e){return e.id===t});return r&&d?r.name+" "+d.name:"nem definiált"},n.createDanceCourse=function(){n.setState({selectedId:null,selectedObject:s.default.createElement(f.default,{selectedObject:{id:-1},fetchFunction:n.fetchDanceCourses})})},n.fetchDanceCourses=function(){n.setState({selectedObject:null}),(0,h.fetchAll)("dance_courses").then(function(e){n.setState({dance_courses:e})})},n.fetchDanceTeachers=function(){(0,h.fetchAll)("dance_teachers").then(function(e){n.setState({dance_teachers:e})})},n.fetchDances=function(){(0,h.fetchAll)("dances").then(function(e){n.setState({dances:e})})},n.editDanceCourse=function(e){var t=n.state.dance_courses,a=t.find(function(t){return t.id===e});n.setState({selectedId:a.id,selectedObject:s.default.createElement(f.default,{selectedObject:a,fetchFunction:n.fetchDanceCourses})})},n.state={dance_courses:[],dance_teachers:[],selectedId:0,selectedObject:null},n}return r(t,e),t.prototype.componentDidMount=function(){this.createDanceCourse(),this.fetchDances(),this.fetchDanceTeachers(),this.fetchDanceCourses()},t.prototype.render=function(){var e=this,t=this.state,n=t.dance_courses,a=t.selectedObject,c=t.selectedId;return n?s.default.createElement("div",{className:m.default.center},s.default.createElement("div",{className:m.default.main},s.default.createElement("div",{className:m.default.list},s.default.createElement("div",{className:m.default.selectable,onClick:this.createDanceCourse,onKeyDown:function(){},role:"button",tabIndex:0},s.default.createElement("img",{alt:"",src:_.default,className:m.default.addElement}),"Új Tanítás"),n.map(function(t){return s.default.createElement(u.default,{title:t.id+" – "+e.getDanceCourseName(t.dance_teacher_id,t.dance_id),onClick:function(){return e.editDanceCourse(t.id)},selected:t.id===c,start_date:t.updated_at,key:t.id})})),s.default.createElement("div",{className:m.default.selected},a))):s.default.createElement("div",{className:m.default.center})},t}(s.default.Component);t.default=b,e.exports=t.default},84:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(1),o=a(s),u=n(3),i=a(u),f=n(5),h=n(13),p=a(h),m=n(19),v=a(m),_=n(62),b=a(_),y=n(55),g=a(y),E=n(85),C=a(E),O=n(21),j=a(O),w={name:void 0,content:void 0,dance_type_id:void 0},T=function(e){function t(){c(this,t);var n=l(this,e.call(this));return n.addNewElement=function(e){n.setState({addSelected:e})},n.close=function(){n.setState({addSelected:null})},n.handleChange=function(e){var t,a=e.target.name;if("null"===e.target.value){var c;return void n.setState((c={},c[a]=null,c))}n.setState((t={},t[a]=e.target.value,t))},n.uploadChanges=function(){var e=n.state.id;e<0?n.addDance():n.updateDance()},n.addDance=function(){var e=n.state.dance_type_id,t=d({},n.state,{dance_types:[],dance_type_id:parseInt(e,10)});(0,f.fetchPost)("dances",t).then(function(){var e=n.props.fetchFunction;e()})},n.updateDance=function(){var e=n.state.dance_type_id,t=d({},n.state,{dance_types:[],dance_type_id:parseInt(e,10)});(0,f.fetchPut)("dances",t).then(function(){var e=n.props.fetchFunction;e()})},n.fetchDanceTypes=function(){(0,f.fetchAll)("dance_types").then(function(e){n.setState({dance_types:e})})},n.state={id:-1,addSelected:null,dance_type_id:1,dance_types:[],name:"",content:""},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this.props.selectedObject;this.setState(d({},w,e)),this.fetchDanceTypes()},t.prototype.componentWillReceiveProps=function(e){var t=e.selectedObject;this.setState(d({},w,{dance_type_id:t.dance_type?parseInt(t.dance_type.id,10):parseInt(t.dance_type_id,10)},t))},t.prototype.render=function(){var e=this,t=this.props,n=t.selected,a=t.title,c=t.fetchFunction,l=this.state,r=l.id,d=l.name,s=l.content,u=l.dance_type_id,i=l.dance_types,f=l.addSelected;if(!i)return o.default.createElement("div",{className:p.default.main});var h=r<0;return o.default.createElement("div",{className:p.default.main},o.default.createElement(j.default,{id:r,type:"dances",fetchFunction:c}),o.default.createElement("div",{className:p.default.formgroup,hidden:n!==a},h?"Új Tánc adatai:":"Tánc adatai:",o.default.createElement(v.default,{selectedForm:n,form:a,handleChange:this.handleChange,value:d,name:"name",example:"salsa",label:"Név"}),o.default.createElement(g.default,{selectedForm:n,form:a,handleChange:this.handleChange,value:s,name:"content",example:"Ez a tánc a legeslegjobb",label:"Leírás"}),o.default.createElement(b.default,{selected:n,title:a,handleChange:this.handleChange,value:u,name:"dance_type_id",label:"Tánc típus",options:i.map(function(e){return o.default.createElement("option",{value:e.id,key:e.id},e.id+" – "+e.name)}),addNew:function(){return e.addNewElement("dance_type_id")},close:function(){return e.close()}}),o.default.createElement(C.default,{selected:f,title:"dance_type_id",selectedObject:{id:-1},fetchFunction:this.fetchDanceTypes}),o.default.createElement("div",{className:p.default.formgroup},o.default.createElement("button",{onClick:this.uploadChanges,type:"submit",className:p.default.submit},h?"Tánc hozzáadása":"Tánc módosítása"))))},t}(o.default.Component);T.propTypes={selectedObject:i.default.instanceOf(Object).isRequired,selected:i.default.string,title:i.default.string,fetchFunction:i.default.func.isRequired},T.defaultProps={selected:"",title:""},t.default=T,e.exports=t.default},169:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(1),o=a(s),u=n(3),i=a(u),f=n(5),h=n(13),p=a(h),m=n(19),v=a(m),_=n(62),b=a(_),y=n(84),g=a(y),E=n(86),C=a(E),O=n(21),j=a(O),w={dance_id:void 0,level:void 0,length:void 0,dance_teacher_id:void 0},T=function(e){function t(){c(this,t);var n=l(this,e.call(this));return n.fetchDances=function(){(0,f.fetchAll)("dances").then(function(e){n.setState({dances:e})})},n.fetchDanceTeachers=function(){(0,f.fetchAll)("dance_teachers").then(function(e){n.setState({dance_teachers:e})})},n.addNewElement=function(e){n.setState({addSelected:e})},n.close=function(){n.setState({addSelected:null})},n.handleChange=function(e){var t,a=e.target.name;if("null"===e.target.value){var c;return void n.setState((c={},c[a]=null,c))}n.setState((t={},t[a]=e.target.value,t))},n.uploadChanges=function(){var e=n.state.id;e<0?n.addDanceCourse():n.updateDanceCourse()},n.updateDanceCourse=function(){var e=n.state,t=e.dance_id,a=e.dance_teacher_id,c=d({},n.state,{dances:[],dance_teachers:[],dance_id:parseInt(t,10),dance_teacher_id:parseInt(a,10)});(0,f.fetchPut)("dance_courses",c).then(function(){var e=n.props.fetchFunction;e()})},n.state={id:-1,addSelected:null,dances:[],dance_teachers:[],level:"",length:""},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this.props.selectedObject;this.setState(d({},w,e)),this.fetchDances(),this.fetchDanceTeachers()},t.prototype.componentWillReceiveProps=function(e){var t=e.selectedObject;this.setState(d({},w,t))},t.prototype.addDanceCourse=function(){var e=this,t=this.state,n=t.dance_id,a=t.dance_teacher_id,c=d({},this.state,{dances:[],dance_teachers:[],dance_id:parseInt(n,10),dance_teacher_id:parseInt(a,10)});(0,f.fetchPost)("dance_courses",c).then(function(){var t=e.props.fetchFunction;t()})},t.prototype.render=function(){var e=this,t=this.props,n=t.selected,a=t.title,c=t.fetchFunction,l=this.state,r=l.id,d=l.dance_id,s=l.level,u=l.length,i=l.dance_teacher_id,f=l.addSelected,h=l.dances,m=l.dance_teachers;if(!h||!m)return o.default.createElement("div",{className:p.default.main});var _=r<0;return o.default.createElement("div",{className:p.default.main},o.default.createElement(j.default,{id:r,type:"dance_courses",fetchFunction:c}),o.default.createElement("div",{className:p.default.formgroup,hidden:n!==a},_?"Új Tanítás adatai:":"Tanítás adatai:",o.default.createElement(b.default,{selected:n,title:a,handleChange:this.handleChange,value:i,name:"dance_teacher_id",label:"Tanár",options:m.map(function(e){return o.default.createElement("option",{value:e.id,key:e.id},e.id," – ",e.name)}),addNew:function(){return e.addNewElement("teacher")},close:function(){return e.close()}}),o.default.createElement(C.default,{selected:f,title:"teacher",selectedObject:{id:-1},fetchFunction:this.fetchDanceTeachers}),o.default.createElement(b.default,{selected:n,title:a,handleChange:this.handleChange,value:d,name:"dance_id",label:"Tánc",options:h.map(function(e){return o.default.createElement("option",{value:e.id,key:e.id},e.id," – ",e.name)}),addNew:function(){return e.addNewElement("dance")},close:function(){return e.close()}}),o.default.createElement(g.default,{selected:f,title:"dance",selectedObject:{id:-1},fetchFunction:this.fetchDances}),o.default.createElement(v.default,{selected:n,title:a,handleChange:this.handleChange,value:s,name:"level",example:"kezdő",label:"Szint"}),o.default.createElement(v.default,{selected:n,title:a,handleChange:this.handleChange,value:u,name:"length",example:"1 óra",label:"Hossz"}),o.default.createElement("div",{className:p.default.formgroup},o.default.createElement("button",{onClick:this.uploadChanges,type:"submit",className:p.default.submit},_?"Tanítás hozzáadása":"Tanítás módosítása"))))},t}(o.default.Component);T.propTypes={selectedObject:i.default.instanceOf(Object).isRequired,selected:i.default.string,title:i.default.string,fetchFunction:i.default.func.isRequired},T.defaultProps={selected:"",title:""},t.default=T,e.exports=t.default},86:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(1),o=a(s),u=n(3),i=a(u),f=n(5),h=n(13),p=a(h),m=n(19),v=a(m),_=n(21),b=a(_),y={name:void 0,url:void 0},g=function(e){function t(){c(this,t);var n=l(this,e.call(this));return n.handleChange=function(e){var t,a=e.target.name;if("null"===e.target.value){var c;return void n.setState((c={},c[a]=null,c))}n.setState((t={},t[a]=e.target.value,t))},n.uploadChanges=function(){var e=n.state.id;e<0?n.addTeacher():n.updateTeacher()},n.addTeacher=function(){(0,f.fetchPost)("dance_teachers",n.state).then(function(){var e=n.props.fetchFunction;e()})},n.updateTeacher=function(){(0,f.fetchPut)("dance_teachers",n.state).then(function(){var e=n.props.fetchFunction;e()})},n.state={id:-1},n}return r(t,e),t.prototype.componentDidMount=function(){var e=this.props.selectedObject;this.setState(d({},y,e))},t.prototype.componentWillReceiveProps=function(e){var t=e.selectedObject;this.setState(d({},y,t))},t.prototype.render=function(){var e=this.props,t=e.selected,n=e.title,a=e.fetchFunction,c=this.state,l=c.id,r=c.name,d=c.url,s=l<0;return o.default.createElement("div",{className:p.default.main},o.default.createElement(b.default,{id:l,type:"dance_teachers",fetchFunction:a}),o.default.createElement("div",{className:p.default.formgroup,hidden:t!==n},s?"Új Tanár adatai:":"Tanár adatai:",o.default.createElement(v.default,{selected:t,title:n,handleChange:this.handleChange,value:r,name:"name",example:"Pedrofon",label:"Név"}),o.default.createElement(v.default,{selected:t,title:n,handleChange:this.handleChange,value:d,name:"url",example:"www.example.com",label:"Weboldal"}),o.default.createElement("div",{className:p.default.formgroup},o.default.createElement("button",{onClick:this.uploadChanges,type:"submit",className:p.default.submit},s?"Tanár hozzáadása":"Tanár módosítása"))))},t}(o.default.Component);g.propTypes={selectedObject:i.default.instanceOf(Object).isRequired,selected:i.default.string,title:i.default.string,fetchFunction:i.default.func.isRequired},g.defaultProps={selected:"",title:""},t.default=g,e.exports=t.default},442:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var c=n(1),l=a(c),r=n(23),d=a(r),s=n(398),o=a(s),u=n(58),i=a(u),f=n(24),h=a(f),p=n(25);n(44);var m=function(){return(0,p.isEditor)()?l.default.createElement("div",null,l.default.createElement(i.default,{danceCourse:!0}),l.default.createElement(d.default,{transitionName:"fade",transitionAppearTimeout:1e3,transitionEnterTimeout:300,transitionAppear:!0,transitionLeaveTimeout:300},l.default.createElement("div",{className:h.default.main},l.default.createElement(o.default,null)))):l.default.createElement("div",{className:h.default.pageCenter},l.default.createElement("div",null,"Nincs Jogosultságod ehhez az oldalhoz. Jelentkezz be!"))};t.default=m,e.exports=t.default}});
//# sourceMappingURL=component---src-pages-edit-dance-course-js-0a5dc6ebc268aa1734af.js.map