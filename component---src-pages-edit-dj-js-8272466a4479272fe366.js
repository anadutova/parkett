webpackJsonp([98778632820146],{396:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var c=n(1),r=a(c),i=n(56),s=a(i),d=n(168),f=a(d),p=n(5),m=n(54),h=a(m),b=n(52),v=a(b),E=function(e){function t(){l(this,t);var n=o(this,e.call(this));return n.editDJ=function(e){var t=n.state.djs,a=t.find(function(t){return t.id===e});n.setState({selectedId:e,selectedObject:r.default.createElement(f.default,{selectedObject:a,fetchFunction:n.fetchDJs})})},n.createDJ=function(){n.setState({selectedId:null,selectedObject:r.default.createElement(f.default,{selectedObject:{id:-1},fetchFunction:n.fetchDJs})})},n.fetchDJs=function(){n.setState({selectedObject:null}),(0,p.fetchAll)("djs").then(function(e){n.setState({djs:e})})},n.state={djs:[],selectedId:0,selectedObject:null},n}return u(t,e),t.prototype.componentDidMount=function(){this.createDJ(),this.fetchDJs()},t.prototype.render=function(){var e=this,t=this.state,n=t.djs,a=t.selectedId,l=t.selectedObject;return n?r.default.createElement("div",{className:v.default.center},r.default.createElement("div",{className:v.default.main},r.default.createElement("div",{className:v.default.list},r.default.createElement("div",{className:v.default.selectable,onClick:this.createDJ,onKeyDown:function(){},role:"button",tabIndex:0},r.default.createElement("img",{src:h.default,className:v.default.addElement,alt:""}),"Új DJ"),n.map(function(t){return r.default.createElement(s.default,{title:t.name,onClick:function(){return e.editDJ(t.id)},selected:t.id===a,start_date:t.updated_at,key:t.id})})),r.default.createElement("div",{className:v.default.selected},l))):r.default.createElement("div",{className:v.default.center})},t}(r.default.Component);t.default=E,e.exports=t.default},168:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=n(1),i=a(r),s=n(3),d=a(s),f=n(5),p=n(13),m=a(p),h=n(19),b=a(h),v=n(21),E=a(v),y={name:void 0,content:void 0},j=function(e){function t(){l(this,t);var n=o(this,e.call(this));return n.handleChange=function(e){var t,a=e.target.name;if("null"===e.target.value){var l;return void n.setState((l={},l[a]=null,l))}n.setState((t={},t[a]=e.target.value,t))},n.uploadChanges=function(){var e=n.state.id;e<0?n.addDJ():n.updateDJ()},n.addDJ=function(){(0,f.fetchPost)("djs",n.state).then(function(){var e=n.props.fetchFunction;e()})},n.updateDJ=function(){(0,f.fetchPut)("djs",n.state).then(function(){var e=n.props.fetchFunction;e()})},n.state={id:-1},n}return u(t,e),t.prototype.componentDidMount=function(){var e=this.props.selectedObject;this.setState(c({},y,e))},t.prototype.componentWillReceiveProps=function(e){var t=e.selectedObject;this.setState(c({},y,t))},t.prototype.render=function(){var e=this.props,t=e.selected,n=e.title,a=e.fetchFunction,l=this.state,o=l.id,u=l.name,c=l.content,r=o<0;return i.default.createElement("div",{className:m.default.main},i.default.createElement(E.default,{id:o,type:"djs",fetchFunction:a}),i.default.createElement("div",{className:m.default.formgroup,hidden:t!==n},r?"Új DJ adatai:":"DJ adatai:",i.default.createElement(b.default,{selected:t,title:n,handleChange:this.handleChange,value:u,name:"name",example:"DJ Eddy",label:"Név"}),i.default.createElement(b.default,{selected:t,title:n,handleChange:this.handleChange,value:c,name:"content",example:"www.example.com",label:"Weboldal"}),i.default.createElement("div",{className:m.default.formgroup},i.default.createElement("button",{onClick:this.uploadChanges,type:"submit",className:m.default.submit},r?"DJ hozzáadása":"DJ módosítása"))))},t}(i.default.Component);j.propTypes={selectedObject:d.default.instanceOf(Object).isRequired,selected:d.default.string,title:d.default.string,fetchFunction:d.default.func.isRequired},j.defaultProps={selected:"",title:""},t.default=j,e.exports=t.default},445:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var l=n(1),o=a(l),u=n(23),c=a(u),r=n(396),i=a(r),s=n(58),d=a(s),f=n(24),p=a(f),m=n(25);n(44);var h=function(){return(0,m.isEditor)()?o.default.createElement("div",null,o.default.createElement(d.default,{dj:!0}),o.default.createElement(c.default,{transitionName:"fade",transitionAppearTimeout:1e3,transitionEnterTimeout:300,transitionAppear:!0,transitionLeaveTimeout:300},o.default.createElement("div",{className:p.default.main},o.default.createElement(i.default,null)))):o.default.createElement("div",{className:p.default.pageCenter},o.default.createElement("div",null,"Nincs Jogosultságod ehhez az oldalhoz. Jelentkezz be!"))};t.default=h,e.exports=t.default}});
//# sourceMappingURL=component---src-pages-edit-dj-js-8272466a4479272fe366.js.map