webpackJsonp([48347031584217],{402:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=a(1),o=n(u),i=a(56),s=n(i),d=a(86),f=n(d),h=a(5),p=a(52),m=n(p),b=a(54),v=n(b),E=function(e){function t(){l(this,t);var a=r(this,e.call(this));return a.createTeacher=function(){a.setState({selectedId:null,selectedObject:o.default.createElement(f.default,{selectedObject:{id:-1},fetchFunction:a.fetchTeachers})})},a.editTeacher=function(e){var t=a.state.teachers,n=t.find(function(t){return t.id===e});a.setState({selectedId:e,selectedObject:o.default.createElement(f.default,{selectedObject:n,fetchFunction:a.fetchTeachers})})},a.fetchTeachers=function(){a.setState({selectedObject:null}),(0,h.fetchAll)("dance_teachers").then(function(e){a.setState({teachers:e})})},a.state={teachers:[],selectedId:0,selectedObject:null},a}return c(t,e),t.prototype.componentDidMount=function(){this.createTeacher(),this.fetchTeachers()},t.prototype.render=function(){var e=this,t=this.state,a=t.teachers,n=t.selectedObject,l=t.selectedId;return a?o.default.createElement("div",{className:m.default.center},o.default.createElement("div",{className:m.default.main},o.default.createElement("div",{className:m.default.list},o.default.createElement("div",{className:m.default.selectable,onClick:this.createTeacher,onKeyDown:function(){},role:"button",tabIndex:0},o.default.createElement("img",{alt:"",src:v.default,className:m.default.addElement}),"Új Tanár"),a.map(function(t){return o.default.createElement(s.default,{title:t.id+" – "+t.name,start_date:t.updated_at,onClick:function(){return e.editTeacher(t.id)},selected:t.id===l,key:t.id})})),o.default.createElement("div",{className:m.default.selected},n))):o.default.createElement("div",{className:m.default.center})},t}(o.default.Component);t.default=E,e.exports=t.default},86:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=a(1),i=n(o),s=a(3),d=n(s),f=a(5),h=a(13),p=n(h),m=a(19),b=n(m),v=a(21),E=n(v),y={name:void 0,url:void 0},T=function(e){function t(){l(this,t);var a=r(this,e.call(this));return a.handleChange=function(e){var t,n=e.target.name;if("null"===e.target.value){var l;return void a.setState((l={},l[n]=null,l))}a.setState((t={},t[n]=e.target.value,t))},a.uploadChanges=function(){var e=a.state.id;e<0?a.addTeacher():a.updateTeacher()},a.addTeacher=function(){(0,f.fetchPost)("dance_teachers",a.state).then(function(){var e=a.props.fetchFunction;e()})},a.updateTeacher=function(){(0,f.fetchPut)("dance_teachers",a.state).then(function(){var e=a.props.fetchFunction;e()})},a.state={id:-1},a}return c(t,e),t.prototype.componentDidMount=function(){var e=this.props.selectedObject;this.setState(u({},y,e))},t.prototype.componentWillReceiveProps=function(e){var t=e.selectedObject;this.setState(u({},y,t))},t.prototype.render=function(){var e=this.props,t=e.selected,a=e.title,n=e.fetchFunction,l=this.state,r=l.id,c=l.name,u=l.url,o=r<0;return i.default.createElement("div",{className:p.default.main},i.default.createElement(E.default,{id:r,type:"dance_teachers",fetchFunction:n}),i.default.createElement("div",{className:p.default.formgroup,hidden:t!==a},o?"Új Tanár adatai:":"Tanár adatai:",i.default.createElement(b.default,{selected:t,title:a,handleChange:this.handleChange,value:c,name:"name",example:"Pedrofon",label:"Név"}),i.default.createElement(b.default,{selected:t,title:a,handleChange:this.handleChange,value:u,name:"url",example:"www.example.com",label:"Weboldal"}),i.default.createElement("div",{className:p.default.formgroup},i.default.createElement("button",{onClick:this.uploadChanges,type:"submit",className:p.default.submit},o?"Tanár hozzáadása":"Tanár módosítása"))))},t}(i.default.Component);T.propTypes={selectedObject:d.default.instanceOf(Object).isRequired,selected:d.default.string,title:d.default.string,fetchFunction:d.default.func.isRequired},T.defaultProps={selected:"",title:""},t.default=T,e.exports=t.default},448:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var l=a(1),r=n(l),c=a(23),u=n(c),o=a(402),i=n(o),s=a(58),d=n(s),f=a(24),h=n(f),p=a(25);a(44);var m=function(){return(0,p.isEditor)()?r.default.createElement("div",null,r.default.createElement(d.default,{teacher:!0}),r.default.createElement(u.default,{transitionName:"fade",transitionAppearTimeout:1e3,transitionEnterTimeout:300,transitionAppear:!0,transitionLeaveTimeout:300},r.default.createElement("div",{className:h.default.main},r.default.createElement(i.default,null)))):r.default.createElement("div",{className:h.default.pageCenter},r.default.createElement("div",null,"Nincs Jogosultságod ehhez az oldalhoz. Jelentkezz be!"))};t.default=m,e.exports=t.default}});
//# sourceMappingURL=component---src-pages-edit-teacher-js-73f288caaf221df58df3.js.map